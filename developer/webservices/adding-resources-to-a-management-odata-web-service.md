---
title: 관리 OData 웹 서비스에 리소스 추가 | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: e620bf6d-76be-47b0-a7a8-f43418f30c60
caps.latest.revision: 6
ms.openlocfilehash: b81a32b867795ae51c3f5308c2f82c31ed2747fa
ms.sourcegitcommit: b6871f21bd666f9cd71dd336bb3f844cf472b56c
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/03/2019
ms.locfileid: "56858369"
---
# <a name="adding-resources-to-a-management-odata-web-service"></a><span data-ttu-id="111e6-102">관리 OData 웹 서비스에 리소스 추가</span><span class="sxs-lookup"><span data-stu-id="111e6-102">Adding Resources to a Management OData Web Service</span></span>

<span data-ttu-id="111e6-103">이 예제에는 관리 OData 스키마 디자이너를 사용 하 여 기존 관리 OData 웹 서비스에 리소스를 추가 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-103">This example demonstrates how to add a resource to an existing Management OData web service by using the Management OData Schema Designer.</span></span> <span data-ttu-id="111e6-104">합니다 [PswsRoleBasedPlugins](https://code.msdn.microsoft.com:443/windowsdesktop/PswsRoleBasedPlugins-9c79b75a) 샘플 프로세스 및 서버 리소스를 노출 하는 웹 서비스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-104">The [PswsRoleBasedPlugins](https://code.msdn.microsoft.com:443/windowsdesktop/PswsRoleBasedPlugins-9c79b75a) sample creates a web service that exposes the Process and Server resources.</span></span> <span data-ttu-id="111e6-105">이 예제에서는 웹 서비스에 가상 머신 (VM) 리소스를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-105">In this example, you will add a Virtual Machine (VM) resource to the web service.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="111e6-106">필수 구성 요소</span><span class="sxs-lookup"><span data-stu-id="111e6-106">Prerequisites</span></span>

<span data-ttu-id="111e6-107">이 항목에서는 다운로드 및 설치 했습니다 합니다 [PswsRoleBasedPlugins](https://code.msdn.microsoft.com:443/windowsdesktop/PswsRoleBasedPlugins-9c79b75a) 에 설명 된 대로 샘플 [Windows PowerShell 웹 서비스를 만드는](./creating-a-management-odata-web-service.md)를 다운로드 하 고 설치 하 고는 [관리 OData 스키마 디자이너](https://marketplace.visualstudio.com/items?itemName=jlisc0.ManagementODataSchemaDesigner)합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-107">This topic assumes that you have downloaded and installed the [PswsRoleBasedPlugins](https://code.msdn.microsoft.com:443/windowsdesktop/PswsRoleBasedPlugins-9c79b75a) sample as described in [Creating a Windows PowerShell Web Service](./creating-a-management-odata-web-service.md), and that you have downloaded and installed the [Management OData Schema Designer](https://marketplace.visualstudio.com/items?itemName=jlisc0.ManagementODataSchemaDesigner).</span></span> <span data-ttu-id="111e6-108">이 항목은 또한 Hyper-v Windows PowerShell 모듈 관리 Odata 끝점을 설정 하면 컴퓨터에 설치 되어 있다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-108">This topic also assumes that you have the Hyper-V Windows PowerShell module installed on the computer where you set up the Management Odata endpoint.</span></span>

## <a name="adding-vm-as-a-resource-to-the-web-service"></a><span data-ttu-id="111e6-109">웹 서비스에 VM 리소스로 추가</span><span class="sxs-lookup"><span data-stu-id="111e6-109">Adding VM as a Resource to the Web Service</span></span>

<span data-ttu-id="111e6-110">먼저는 스키마 디자이너에 기존 관리 OData 끝점에서 스키마를 가져오는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-110">The first step is to import the schema from the existing Management OData endpoint into the schema designer.</span></span> <span data-ttu-id="111e6-111">다음 절차에는 작업을 수행 하는 방법을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-111">The following procedure describes how to do that.</span></span>

#### <a name="importing-an-existing-schema-into-the-schema-designer"></a><span data-ttu-id="111e6-112">스키마 디자이너는 기존 스키마 가져오기</span><span class="sxs-lookup"><span data-stu-id="111e6-112">Importing an existing schema into the schema designer</span></span>

1. <span data-ttu-id="111e6-113">관리 OData 스키마 디자이너를 엽니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-113">Open the Management OData Schema Designer.</span></span>

2. <span data-ttu-id="111e6-114">**파일** 메뉴에서 **파일** ; **새** ; **파일**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-114">From the **File** menu, select **File** ; **New** ; **File**.</span></span> <span data-ttu-id="111e6-115">합니다 **새 파일** 대화 상자가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-115">The **New File** dialog appears.</span></span>

3. <span data-ttu-id="111e6-116">클릭 **관리 OData 모델**를 클릭 하 고 **오픈**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-116">Click **Management OData Model**, and then click **Open**.</span></span>

4. <span data-ttu-id="111e6-117">주 창에서 마우스 오른쪽 단추로 클릭 하 고 클릭 **스키마 파일** ; **가져오기**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-117">Right-click in the main window, and click **Schema file** ; **Import**.</span></span> <span data-ttu-id="111e6-118">합니다 **열고** 대화 상자가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-118">The **Open** dialog appears.</span></span>

5. <span data-ttu-id="111e6-119">관리 OData 웹 서비스에 대 한 여기서 설정한 폴더로 이동 합니다 [PswsRoleBasedPlugins](https://code.msdn.microsoft.com:443/windowsdesktop/PswsRoleBasedPlugins-9c79b75a) 샘플입니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-119">Navigate to the folder where you set up the Management OData web service for the [PswsRoleBasedPlugins](https://code.msdn.microsoft.com:443/windowsdesktop/PswsRoleBasedPlugins-9c79b75a) sample.</span></span> <span data-ttu-id="111e6-120">스크립트를 수정 하지 않고 끝점을 설정 하는 샘플을 사용 하 여 제공 되는 Windows PowerShell 스크립트를 사용 하는 경우 해당 폴더는 **C:\inetpub\wwwroot\Modata**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-120">If you used the Windows PowerShell script provided with that sample to set up the endpoint without modifying the script, that folder is **C:\inetpub\wwwroot\Modata**.</span></span> <span data-ttu-id="111e6-121">Schema.mof를 선택 하 고 클릭 **열려**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-121">Select Schema.mof, and click **Open**.</span></span>

   <span data-ttu-id="111e6-122">이 시점에서 Schema.xml 파일과 Schema.mof을 텍스트 편집기에서 열고 프로세스 및 서비스 리소스에 대 한 매핑을 포함 하는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-122">At this point, open the Schema.mof and Schema.xml files in a text editor, and notice that they contain mappings for the Process and Service resources.</span></span> <span data-ttu-id="111e6-123">다음을 사용 하 여 Schema.mof 파일이 [Distributed Management Task Force](https://www.dmtf.org/) (DTMF) MOF (Managed Object) 표준입니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-123">The Schema.mof file uses [Distributed Management  Task Force](https://www.dmtf.org/) (DTMF) Managed Object (MOF) standard.</span></span> <span data-ttu-id="111e6-124">Schema.xml 파일에 설명 된 XML 스키마를 사용 하 여 [리소스 매핑 스키마](./resource-mapping-schema.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-124">The schema.xml file uses an XML schema that is described in [Resource Mapping Schema](./resource-mapping-schema.md).</span></span>

   <span data-ttu-id="111e6-125">다음 절차에는 스키마 모델의 Hyper-v cmdlet을 가져오는 방법을 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-125">The following procedure describes how to import Hyper-V cmdlets in to the schema model.</span></span>

#### <a name="importing-cmdlets-into-the-schema"></a><span data-ttu-id="111e6-126">스키마에서 cmdlet 가져오기</span><span class="sxs-lookup"><span data-stu-id="111e6-126">Importing cmdlets into the schema</span></span>

1. <span data-ttu-id="111e6-127">스키마 디자이너 창의 빈 영역을 마우스 오른쪽 단추로 클릭 하 고 클릭 **Import Cmdlet**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-127">Right-click on a blank area of the schema designer window, and click **Import Cmdlets**.</span></span> <span data-ttu-id="111e6-128">합니다 **Cmdlet 가져오기 마법사** 대화 상자가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-128">The **Cmdlet Import Wizard** dialog appears.</span></span>

2. <span data-ttu-id="111e6-129">했는지 **로컬 컴퓨터** 을 선택 하 고 클릭 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-129">Make sure **Local Computer** is selected, and click **Next**.</span></span>

3. <span data-ttu-id="111e6-130">설치 된 Windows PowerShell 모듈을 선택 하 고 있는지 확인 하 고 드롭다운 목록에서 Hyper-v를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-130">Make sure that Installed Windows PowerShell Modules is selected, and select Hyper-V from the drop-down list.</span></span> <span data-ttu-id="111e6-131">클릭 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-131">click **Next**.</span></span> <span data-ttu-id="111e6-132">**다음**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-132">Click **Next**.</span></span>

4. <span data-ttu-id="111e6-133">에 **Cmdlet 명사** 목록에서 **VM**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-133">In the **Cmdlet Noun** list, select **VM**.</span></span> <span data-ttu-id="111e6-134">**다음**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-134">Click **Next**</span></span>

5. <span data-ttu-id="111e6-135">예를 들어 cmdlet 사용 하 여 Get 및 Delete 명령을 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-135">For this example, we will bind only the Get and Delete commands with cmdlets.</span></span> <span data-ttu-id="111e6-136">선택을 취소는 **만들기** 및 **업데이트** 확인란, 있는지 확인 합니다 **가져오기** 및 **삭제** 확인란 확인 됩니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-136">Clear the **CREATE** and **UPDATE** checkboxes, and make sure the **GET** and **DELETE** checkboxes are checked.</span></span> <span data-ttu-id="111e6-137">있는지 확인 합니다 `Get-VM` cmdlet에 대해 선택 되었는지 **가져오기**, 및 `Remove-VM` cmdlet에 대해 선택 되었는지 **삭제**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-137">Make sure that the `Get-VM` cmdlet is selected for **GET**, and the `Remove-VM` cmdlet is selected for **DELETE**.</span></span>

6. <span data-ttu-id="111e6-138">VM cmdlet에 대 한 메타 데이터는 출력 형식을 지정 하지 않으므로, 출력 형식을 지정 하는 cmdlet을 실행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-138">Because the metadata for the VM cmdlets does not specify an output type, you will need to run the cmdlet to specify the output type.</span></span> <span data-ttu-id="111e6-139">선택 **제공 출력 형식** 누릅니다 **cmdlet을 실행**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-139">Select **Provide output type** and click **Run cmdlet**.</span></span> <span data-ttu-id="111e6-140">합니다 **Cmdlet을 실행** 대화 상자가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-140">The **Run Cmdlet** dialog appears.</span></span> <span data-ttu-id="111e6-141">**실행**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-141">Click **Run**.</span></span> <span data-ttu-id="111e6-142">합니다 **CLR 형식** 상자가 채워집니다는 `VirtualMachine` 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-142">The **CLR Type** box is populated with the `VirtualMachine` type.</span></span> <span data-ttu-id="111e6-143">클릭 **확인**, 클릭 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-143">Click **OK**, then click **Next**.</span></span>

7. <span data-ttu-id="111e6-144">기본적으로 VirtualMachine 개체의 속성을 모두 선택 됩니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-144">By default, all of the properties of the VirtualMachine object are selected.</span></span> <span data-ttu-id="111e6-145">웹 서비스에서이 리소스를 요청할 때 반환 되는 데이터의 일부분으로 원하지 않는 하는 모든 속성을 지울 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-145">You can clear any properties that you do not want as part of the data returned when you request this resource from the web service.</span></span> <span data-ttu-id="111e6-146">**다음**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-146">Click **Next**.</span></span>

8. <span data-ttu-id="111e6-147">키로 사용할 하나 이상의 속성을 선택 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-147">You must select at least one property to be used as a key.</span></span> <span data-ttu-id="111e6-148">선택 **이름을** 클릭 하 고 목록에서 **다음**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-148">Select **Name** in the list, and click **Next**.</span></span>

9. <span data-ttu-id="111e6-149">다음 창을 사용 하면 기본 cmdlet의 속성 관리 OData 리소스의 속성을 매핑할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-149">The next window allows you to map properties of the Management OData resource to properties of the underlying cmdlets.</span></span> <span data-ttu-id="111e6-150">마법사는 기본적으로 동일한 이름의 속성을 매핑합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-150">The wizard maps properties with identical names by default.</span></span> <span data-ttu-id="111e6-151">예를 들어 합니다 `ComputerName` 리소스의 속성에 매핑되는 `ComputerName` cmdlet의 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-151">For example, the `ComputerName` property of the resource is mapped to the `ComputerName` property of the cmdlets.</span></span>  <span data-ttu-id="111e6-152">지정할 수 있습니다 합니다 `ComputerName` 웹 서비스에 대 한 요청에서 속성 있고 지정할 값을 전달할 수는 `Get-VM` cmdlet.</span><span class="sxs-lookup"><span data-stu-id="111e6-152">This allows you to specify the `ComputerName` property in a request to the web service, and have the value you specify be passed to the `Get-VM` cmdlet.</span></span> <span data-ttu-id="111e6-153">`Id` 및 `Name` 기본적으로 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-153">`Id` and `Name` are also mapped by default.</span></span>

   10. <span data-ttu-id="111e6-154">클릭 **다음**, 클릭 **마침**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-154">Click **Next**, then click **Finish**.</span></span>

       <span data-ttu-id="111e6-155">VM 리소스는 이제 스키마 디자이너 창에 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-155">The VM resource now appears in the schema designer window.</span></span> <span data-ttu-id="111e6-156">속성 및 리소스와 연결 된 작업을 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-156">You can examine the properties and operations associated with the resource.</span></span> <span data-ttu-id="111e6-157">다음으로 업데이트 된 스키마 파일을 웹 서비스에 대 한 가상 디렉터리로 내보냅니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-157">Next, you will export the updated schema files into the virtual directory for the web service.</span></span>

#### <a name="exporting-schema-files-from-the-schema-designer"></a><span data-ttu-id="111e6-158">스키마 디자이너에서 스키마 파일 내보내기</span><span class="sxs-lookup"><span data-stu-id="111e6-158">Exporting schema files from the schema designer</span></span>

1. <span data-ttu-id="111e6-159">스키마 디자이너 창의 빈 영역을 마우스 오른쪽 단추로 클릭 하 고 클릭 **스키마 파일** ; **내보내기**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-159">Right-click on a blank area of the schema designer window, and click **Schema file** ; **Export**.</span></span> <span data-ttu-id="111e6-160">합니다 **다른 이름으로 저장** 대화 상자가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-160">The **Save As** dialog appears.</span></span>

2. <span data-ttu-id="111e6-161">MOF 파일을 가져올 위치에서 동일한 디렉터리로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-161">Navigate to the same directory from where you imported the MOF file.</span></span> <span data-ttu-id="111e6-162">원래 MOF 파일 (기본적으로 Schema.mof) 같은 파일 이름을 지정 하 고 클릭 **저장할**합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-162">Name the file the same as the original MOF file (Schema.mof by default), and click **Save**.</span></span> <span data-ttu-id="111e6-163">기존 파일을 덮어쓸 것인지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-163">Confirm that you want to overwrite the existing file.</span></span>

   <span data-ttu-id="111e6-164">명시적으로 지정 되지 않지만 합니다 **다른 이름으로 저장** 대화 상자에서이 Schema.mof 및 Schema.xml 파일을 대체 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-164">Although it is not explicitly stated in the **Save As** dialog, this replaces both the Schema.mof and Schema.xml files.</span></span>

## <a name="next-steps"></a><span data-ttu-id="111e6-165">다음 단계</span><span class="sxs-lookup"><span data-stu-id="111e6-165">Next Steps</span></span>

<span data-ttu-id="111e6-166">관리 OData 웹 서비스에서 새 VM 리소스를 액세스 하면 RbacConfiguration.xml 파일에 설명 된 대로 Hyper-v Windows PowerShell 모듈에 대 한 액세스를 허용 하도록 업데이트 해야 [구성 역할 기반 권한 부여](./configuring-role-based-authorization.md), 및 웹 서비스를 다시 시작 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="111e6-166">Before you access the new VM resource from the Management OData web service, you must update the RbacConfiguration.xml file to allow access to the Hyper-V Windows PowerShell module as described in [Configuring Role-based Authorization](./configuring-role-based-authorization.md), and you will also need to restart the web service.</span></span>